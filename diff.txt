diff --git a/bin/index.js b/bin/index.js
index d484edc..65d3c73 100755
--- a/bin/index.js
+++ b/bin/index.js
@@ -8,2 +8,3 @@ import chalk from 'chalk';
import { loadConfig, setupConfig } from '../src/services/config.js'
{+import { setupStep } from '../src/commands/setup.js'+}
import { gitAdd } from '../src/commands/add.js'
@@ -12,2 +13,3 @@ import { gitCheckout } from '../src/commands/checkout.js'
import { squawk } from '../src/commands/squawk.js'
{+import { hookCommand } from '../src/commands/hook.js'+}
import i18n from '../src/services/i18n.js';
@@ -15,2 +17,6 @@ import { parseFlag } from '../src/utils/args-parser.js';
import { VERSION } from '../src/utils/index.js';
{+import State from '../src/services/state.js'+}
{+import logUpdate from 'log-update';+}
{+import { detectPRTemplate } from '../src/commands/setup.js'+}
{+import { handlePrCommand } from '../src/commands/pr.js'+}

@@ -22,3 +28,4 @@ program
  .option('-s, --single-line', 'Use single-line input instead of editor')
  [-.allowUnknownOption();-]{+.allowUnknownOption()+}
{+  .allowExcessArguments(true);+}

@@ -32,3 +39,3 @@ async function handleCommand(cmd, args, cli) {
  const status = repo.getDetailedStatus();
  {+const state = new State();+}
  // Initialize LLM provider
@@ -37,2 +44,3 @@ async function handleCommand(cmd, args, cli) {
    apiKey: config.apiKey,
    {+ollamaUrl: config.ollamaUrl,+}
    model: config.model,
@@ -53,9 +61,5 @@ async function handleCommand(cmd, args, cli) {
    case 'demo':
      [-cli.streamer.showInfo('Running demo...');-]{+const pr =+} await [-cli.simulateStreaming(-]
[-        'This is a demonstration of the streaming output feature. ' +-]
[-        'Text appears word by word, creating a natural conversation flow. ' +-]
[-        'You can customize the speed and behavior as needed.',-]
[-        30-]
[-      );-]{+detectPRTemplate();+}

{+      const res = await provider.generateCommitMessage("var test = 'hello';")+}
      break;
@@ -68,3 +72,3 @@ async function handleCommand(cmd, args, cli) {
    case 'commit':
      const context = repo.diff([], [-{staged: true});-]{+{ staged: true, compact: true });+}

@@ -76,6 +80,11 @@ async function handleCommand(cmd, args, cli) {

      [-const commitMessage = await provider.generateCommitMessage(context);-]
[-      //const commitMessage = "test"-]{+let commitMessage;+}

      {+// If --hook flag is passed, use direct generation (no UI/approval)+}
      if [-(commitMessage)-]{+(args.includes('--hook'))+} {
        {+commitMessage = await provider.generateCommitMessageDirect(context);+}
{+        // Output only the message for git hook+}
{+        console.log(commitMessage);+}
{+      } else {+}
{+        commitMessage = await provider.generateCommitMessage(context);+}
        gitCommit(repo, commitMessage)
@@ -114,2 +124,7 @@ async function handleCommand(cmd, args, cli) {
    case 'setup':
      {+// If a specific step is provided (e.g., setup language), run only that step+}
{+      if (args.length > 0) {+}
{+        await setupStep(args[0]);+}
{+      } else {+}
{+        // Run full setup wizard+}
        console.log();
@@ -118,2 +133,9 @@ async function handleCommand(cmd, args, cli) {
        await setupConfig();
      {+}+}
{+      break;+}
{+    case 'hook':+}
{+      await hookCommand(args, cli);+}
{+      break;+}
{+    case 'pr':+}
{+      await handlePrCommand(args, repo, provider)+}
      break;
@@ -132,3 +154,3 @@ async function main() {
  const rawArgs = process.argv.slice(2);
  const validCommands = ['status', 'add', 'commit', 'squawk', 'checkout', 'setup', 'demo', [-'test'];-]{+'test', 'hook', 'pr'];+}
  const commandArg = rawArgs.find(arg => validCommands.includes(arg));
@@ -157,3 +179,5 @@ async function main() {
      'squawk': 'Commit each file individually with realistic timestamps (--from YYYY-MM-DD[THH:MM:SS], --to, --exclude-weekends)',
      {+'hook': 'Manage git hooks (install/uninstall global commit message hook)',+}
      'setup': 'Reconfigure coParrot [-settings (provider, API key, conventions, etc.)'-]{+settings. Use "setup <step>" for specific updates (language|provider|model|convention|custom)',+}
{+      'pr': "Generate PR message"+}
    },
diff --git a/locales/en.json b/locales/en.json
index 03f998d..11a75fc 100644
--- a/locales/en.json
+++ b/locales/en.json
@@ -47,2 +47,35 @@
  "git": {
    {+"hook": {+}
{+      "unknownSubcommand": "Unknown hook subcommand: {subcommand}",+}
{+      "usage": "Usage: hook install | hook uninstall",+}
{+      "install": {+}
{+        "success": "Git hook installed successfully! ✓",+}
{+        "failed": "Failed to install hook: {error}",+}
{+        "configured": "The following has been configured:",+}
{+        "hookInstalled": "prepare-commit-msg hook (auto-generates commit messages)",+}
{+        "templateDir": "git global template directory",+}
{+        "aliasesCreated": "Git aliases created:",+}
{+        "squawkAlias": "Commit files individually with timestamps",+}
{+        "statusAlias": "Show repository status",+}
{+        "addAlias": "Interactively stage files",+}
{+        "commitAlias": "Commit with AI-generated message",+}
{+        "setupAlias": "Configure CoParrot settings",+}
{+        "applyToExisting": "To apply the hook to existing repos, run:",+}
{+        "gitInitHint": "git init",+}
{+        "gitInitHintDesc": "(in each existing repository)",+}
{+        "useDirectly": "To use directly without git:",+}
{+        "directExample": "coparrot status",+}
{+        "directExampleOr": "or",+}
{+        "directExampleAlt": "cpt status"+}
{+      },+}
{+      "uninstall": {+}
{+        "success": "Git hook uninstalled successfully! ✓",+}
{+        "failed": "Failed to uninstall hook: {error}",+}
{+        "removed": "The following has been removed:",+}
{+        "hookRemoved": "prepare-commit-msg hook",+}
{+        "aliasesRemoved": "git aliases (squawk, cstatus, cadd, ccommit, csetup)",+}
{+        "templateDirNote": "Note: The .git-templates directory has been left intact",+}
{+        "configNote": "Note: git init.templateDir config remains (you can remove it manually)"+}
{+      }+}
{+    },+}
    "add": {
@@ -230,5 +263,5 @@
    "approvalOptions": {
      "approve": [-"✓ Approve and use this response",-]{+"Approve",+}
      "retry": [-"↻ Retry (generate a new response)",-]{+"Retry",+}
      "retryWithInstructions": [-"✎ Retry-]{+"Retry+} with[-custom-] instructions"
    },
diff --git a/src/commands/commit.js b/src/commands/commit.js
index f615445..e8364d7 100644
--- a/src/commands/commit.js
+++ b/src/commands/commit.js
@@ -14,4 +14,5 @@ export async function gitCommit(repo, message) {
  try {
    {+// const output =+} await repo.commit(message);
    [-await showCommitedMessage(repo);-]{+// console.log(output);+}
{+    console.log("hi")+}
  } catch (error) {
@@ -22,21 +23 @@ export async function gitCommit(repo, message) {

[-/**-]
[- * Displays a formatted commit success message-]
[- * @private-]
[- * @param {Object} repo - Git repository instance-]
[- * @returns {Promise<void>}-]
[- */-]
[-async function showCommitedMessage(repo) {-]
[-  const renderer = new MarkdownRenderer({-]
[-    width: process.stdout.columns || 80-]
[-  });-]

[-  const lastCommit = await repo.log({ limit: 1 });-]

[-  const markdown = `## ${lastCommit}-]

[-Changes **committed** successfully!`;-]

[-  const output = renderer.render(markdown);-]
[-  process.stdout.write(output);-]
[-}-]
diff --git a/src/commands/hook.js b/src/commands/hook.js
new file mode 100644
index 0000000..0c44c1a
--- /dev/null
+++ b/src/commands/hook.js
@@ -0,0 +1,174 @@
{+import chalk from 'chalk';+}
{+import fs from 'fs';+}
{+import path from 'path';+}
{+import { execSync } from 'child_process';+}
{+import { fileURLToPath } from 'url';+}
{+import i18n from '../services/i18n.js';+}

{+const __filename = fileURLToPath(import.meta.url);+}
{+const __dirname = path.dirname(__filename);+}

{+// Get the absolute path to coparrot+}
{+const COPARROT_BIN = path.resolve(__dirname, '../../bin/index.js');+}

{+/**+}
{+ * Hook management command - install/uninstall git hooks globally+}
{+ */+}
{+export async function hookCommand(args, cli) {+}
{+  const subcommand = args[0];+}

{+  switch (subcommand) {+}
{+    case 'install':+}
{+      await installHook(cli);+}
{+      break;+}
{+    case 'uninstall':+}
{+      await uninstallHook(cli);+}
{+      break;+}
{+    default:+}
{+      cli.streamer.showError(i18n.t('git.hook.unknownSubcommand', { subcommand }));+}
{+      cli.streamer.showInfo(i18n.t('git.hook.usage'));+}
{+  }+}
{+}+}

{+/**+}
{+ * Install git hook in current repository+}
{+ */+}
{+async function installHook(cli) {+}
{+  try {+}
{+    // Check if we're in a git repository+}
{+    let gitRoot;+}
{+    try {+}
{+      gitRoot = execSync('git rev-parse --git-dir', {+}
{+        stdio: 'pipe',+}
{+        encoding: 'utf-8'+}
{+      }).trim();+}
{+    } catch (error) {+}
{+      cli.streamer.showError('Not a git repository. Please run this command from within a git repository.');+}
{+      return;+}
{+    }+}

{+    const hooksDir = path.join(gitRoot, 'hooks');+}

{+    // Create hooks directory if it doesn't exist+}
{+    if (!fs.existsSync(hooksDir)) {+}
{+      fs.mkdirSync(hooksDir, { recursive: true });+}
{+    }+}

{+    // Create prepare-commit-msg hook+}
{+    const hookPath = path.join(hooksDir, 'prepare-commit-msg');+}
{+    const hookContent = `#!/bin/bash+}
{+# CoParrot - AI-powered commit message generator+}
{+# This hook is called by "git commit" with the name of the file that has the+}
{+# commit message, followed by the description of the commit message's source.+}

{+COMMIT_MSG_FILE=$1+}
{+COMMIT_SOURCE=$2+}

{+# Only run if no commit message was provided (no -m, -F, etc.)+}
{+if [ -z "$COMMIT_SOURCE" ]; then+}
{+  # Check if message file is empty or contains only comments+}
{+  if ! grep -q '^[^#]' "$COMMIT_MSG_FILE" 2>/dev/null; then+}
{+    # Check if there are staged files+}
{+    if ! git diff --cached --quiet 2>/dev/null; then+}
{+      # Check if coparrot/cpt command is available+}
{+      if command -v cpt &> /dev/null; then+}
{+        COPARROT_CMD="cpt"+}
{+      elif command -v coparrot &> /dev/null; then+}
{+        COPARROT_CMD="coparrot"+}
{+      elif [ -f "${COPARROT_BIN}" ]; then+}
{+        COPARROT_CMD="node ${COPARROT_BIN}"+}
{+      else+}
{+        # CoParrot not found, skip+}
{+        exit 0+}
{+      fi+}

{+      # Generate commit message using coparrot (suppress stderr to avoid polluting output)+}
{+      GENERATED_MSG=$($COPARROT_CMD commit --hook 2>/dev/null)+}

{+      # If coparrot generated a message, prepend it to the commit message file+}
{+      if [ -n "$GENERATED_MSG" ]; then+}
{+        # Save original content (usually just comments)+}
{+        ORIGINAL_CONTENT=$(cat "$COMMIT_MSG_FILE")+}

{+        # Write generated message followed by original content+}
{+        echo "$GENERATED_MSG" > "$COMMIT_MSG_FILE"+}
{+        echo "" >> "$COMMIT_MSG_FILE"+}
{+        echo "$ORIGINAL_CONTENT" >> "$COMMIT_MSG_FILE"+}
{+      fi+}
{+    fi+}
{+  fi+}
{+fi+}
{+`;+}

{+    fs.writeFileSync(hookPath, hookContent, { mode: 0o755 });+}

{+    // Set up git alias for squawk (if not already set)+}
{+    try {+}
{+      execSync(`git config --global alias.squawk '!node ${COPARROT_BIN} squawk'`, {+}
{+        stdio: 'pipe'+}
{+      });+}
{+    } catch (error) {+}
{+      // Ignore if already set+}
{+    }+}

{+    console.log();+}
{+    cli.streamer.showSuccess(i18n.t('git.hook.install.success'));+}
{+    console.log();+}
{+    console.log(chalk.green('  ✓ ') + chalk.white('Hook installed in this repository'));+}
{+    console.log();+}
{+    console.log(chalk.yellow('  Usage:'));+}
{+    console.log();+}
{+    console.log(chalk.cyan('    git add <files...>'));+}
{+    console.log(chalk.cyan('    git commit') + chalk.dim('         → CoParrot generates a message for you to review'));+}
{+    console.log(chalk.cyan('    git commit -m "msg"') + chalk.dim(' → Uses your message (skips CoParrot)'));+}
{+    console.log();+}
{+    console.log(chalk.dim('  The generated message will open in your editor for review.'));+}
{+    console.log(chalk.dim('  Save and close the editor to commit, or modify it as needed.'));+}
{+    console.log();+}
{+    console.log(chalk.blue('  Bonus: ') + chalk.cyan('git squawk') + chalk.dim(' → commit files individually with timestamps'));+}
{+    console.log();+}

{+  } catch (error) {+}
{+    cli.streamer.showError(i18n.t('git.hook.install.failed', { error: error.message }));+}
{+  }+}
{+}+}

{+/**+}
{+ * Uninstall git hook from current repository+}
{+ */+}
{+async function uninstallHook(cli) {+}
{+  try {+}
{+    // Check if we're in a git repository+}
{+    let gitRoot;+}
{+    try {+}
{+      gitRoot = execSync('git rev-parse --git-dir', {+}
{+        stdio: 'pipe',+}
{+        encoding: 'utf-8'+}
{+      }).trim();+}
{+    } catch (error) {+}
{+      cli.streamer.showError('Not a git repository. Please run this command from within a git repository.');+}
{+      return;+}
{+    }+}

{+    const hookPath = path.join(gitRoot, 'hooks', 'prepare-commit-msg');+}

{+    // Remove hook file if it exists+}
{+    if (fs.existsSync(hookPath)) {+}
{+      fs.unlinkSync(hookPath);+}
{+      console.log();+}
{+      cli.streamer.showSuccess(i18n.t('git.hook.uninstall.success'));+}
{+      console.log();+}
{+      console.log(chalk.green('  ✓ ') + chalk.white('Hook removed from this repository'));+}
{+      console.log();+}
{+      console.log(chalk.dim('  You can now use git commit normally.'));+}
{+      console.log();+}
{+    } else {+}
{+      console.log();+}
{+      cli.streamer.showWarning('No CoParrot hook found in this repository.');+}
{+      console.log();+}
{+    }+}

{+  } catch (error) {+}
{+    cli.streamer.showError(i18n.t('git.hook.uninstall.failed', { error: error.message }));+}
{+  }+}
{+}+}
diff --git a/src/commands/setup.js b/src/commands/setup.js
index 8773264..5be8cc1 100644
--- a/src/commands/setup.js
+++ b/src/commands/setup.js
@@ -3,64 +3,113 @@ import chalk from 'chalk';
import i18n from '../services/i18n.js';
{+import { loadConfig, saveConfig } from '../services/config.js';+}
{+import axios from 'axios';+}
{+import fs from 'fs';+}

{+// Constants+}
{+const BANNER_WIDTH = 60;+}
{+const DEFAULT_OLLAMA_URL = 'http://localhost:11434';+}
{+const DEFAULT_OLLAMA_MODEL = 'qwen2.5:3b-instruct';+}
{+const MIN_API_KEY_LENGTH = 10;+}
{+const MAX_INSTRUCTIONS_LENGTH = 1000;+}
{+const BYTES_TO_GB = 1e9;+}

{+const PR_TEMPLATE_PATHS = [+}
{+  '.github/pull_request_template.md',+}
{+  '.github/PULL_REQUEST_TEMPLATE.md',+}
{+  'docs/pull_request_template.md',+}
{+  'PULL_REQUEST_TEMPLATE.md'+}
{+];+}

{+const DEFAULT_MODELS = {+}
{+  openai: 'gpt-4',+}
{+  claude: 'claude-3-5-sonnet-20241022',+}
{+  gemini: 'gemini-2.0-flash-exp'+}
{+};+}

[-/**-]
[- * Interactive setup wizard for coParrot-]
[- * Guides users through initial configuration with a friendly UX-]
[- */-]
[-export async function setup()-]{+const SETUP_STEPS =+} {
  {+LANGUAGE: 'language',+}
{+  PROVIDER: 'provider',+}
{+  MODEL: 'model',+}
{+  CONVENTION: 'convention',+}
{+  CUSTOM: 'custom',+}
{+  INSTRUCTIONS: 'instructions'+}
{+};+}

// [-Show welcome banner (before language selection, use English)-]{+Utility functions+}
{+const showBanner = (title, subtitle = null) => {+}
  console.log();
  [-console.log(chalk.cyan.bold('═'.repeat(60)));-]
[-  console.log(chalk.cyan.bold('  Welcome to coParrot!'));-]
[-  console.log(chalk.dim('  Let\'s get you set up. This will only take a minute.'));-]
[-  console.log(chalk.cyan.bold('═'.repeat(60)));-]{+console.log(chalk.cyan.bold('═'.repeat(BANNER_WIDTH)));+}
{+  console.log(chalk.cyan.bold(title));+}
{+  if (subtitle) console.log(chalk.dim(`  ${subtitle}`));+}
{+  console.log(chalk.cyan.bold('═'.repeat(BANNER_WIDTH)));+}
  console.log();
{+};+}

[-try {-]
[-    // Step 1: Language Selection (always in English initially)-]const [-language-]{+showSuccess+} = [-await selectLanguage();-]

[-    // Reinitialize i18n with selected language-]
[-    i18n.setLanguage(language);-]

[-    // Clear screen and show welcome in selected language-]
[-    console.clear();-]{+(message) => {+}
  console.log();
  [-console.log(chalk.cyan.bold('═'.repeat(60)));-]
[-    console.log(chalk.cyan.bold(`  ${i18n.t('setup.welcome')}`));-]
[-    console.log(chalk.dim(`  ${i18n.t('setup.intro')}`));-]
[-    console.log(chalk.cyan.bold('═'.repeat(60)));-]{+console.log(chalk.green('✓ ') + chalk.white(message));+}
  console.log();
{+};+}

[-// Step 2: LLM Provider Selection-]const [-provider-]{+showError+} = [-await selectProvider();-]{+(message, hint = null) => {+}
{+  console.log(chalk.red(`  ${message}`));+}
{+  if (hint) console.log(chalk.dim(`  ${hint}`));+}
{+};+}

[-// Step 3: API Key Input-]const [-apiKey-]{+handleSetupError+} = [-await promptApiKey(provider);-]{+(error) => {+}
{+  if (error.name === 'ExitPromptError') {+}
{+    console.log();+}
{+    console.log(chalk.yellow(i18n.t('setup.setupCancelled') || 'Setup cancelled.'));+}
{+    process.exit(0);+}
{+  }+}
{+  throw error;+}
{+};+}

// [-Step 4: Model Selection-]{+Validation functions+}
const [-model-]{+validateApiKey+} = [-getDefaultModel(provider);-]{+(value) => {+}
{+  if (!value?.trim()) return 'API key cannot be empty';+}
{+  if (value.trim().length < MIN_API_KEY_LENGTH) {+}
{+    return 'API key seems too short. Please check and try again.';+}
{+  }+}
{+  return true;+}
{+};+}

[-// Step 5: Commit Convention-]const [-commitConvention-]{+validateCustomFormat+} = [-await selectCommitConvention();-]{+(value) => {+}
{+  if (!value?.trim()) {+}
{+    return i18n.t('setup.customCommitRequired') || 'Custom format cannot be empty';+}
{+  }+}
{+  return true;+}
{+};+}

[-// Step 6: Branch Naming Convention-]const [-branchNaming-]{+validateInstructions+} = [-await selectBranchNaming();-]{+(value) => {+}
{+  if (value?.length > MAX_INSTRUCTIONS_LENGTH) {+}
{+    return i18n.t('setup.customInstructionsTooLong') ||+}
{+           `Instructions too long (max ${MAX_INSTRUCTIONS_LENGTH} characters)`;+}
{+  }+}
{+  return true;+}
{+};+}

[-// Step 7: Follow Project Patterns-]
[-    const followProjectPatterns = await askFollowProjectPatterns();-]{+/**+}
{+ * Interactive setup wizard for coParrot+}
{+ */+}
{+export async function setup() {+}
{+  showBanner('Welcome to coParrot!', 'Let\'s get you set up. This will only take a minute.');+}

  [-// Step 8: Code Review Preferences-]{+try {+}
    const [-codeReviewStyle-]{+language+} = await [-selectCodeReviewStyle();-]{+selectLanguage();+}
{+    i18n.setLanguage(language);+}

    [-// Step 9: PR Message Style-]
[-    const prMessageStyle = await selectPRMessageStyle();-]{+console.clear();+}
{+    showBanner(i18n.t('setup.welcome'), i18n.t('setup.intro'));+}

    [-// Step 10: Custom Instructions/Observations-]{+const provider = await selectProvider();+}
{+    const { apiKey, ollamaUrl } = await promptProviderCredentials(provider);+}
{+    const model = await selectModel(provider, ollamaUrl);+}
{+    const convention = await selectConvention();+}
{+    const prTemplate = await detectPRTemplate();+}
    const customInstructions = await promptCustomInstructions();

    [-console.log();-]
[-    console.log(chalk.green('✓ ') + chalk.white(i18n.t('setup.setupComplete')));-]
[-    console.log();-]{+showSuccess(i18n.t('setup.setupComplete'));+}

    return [-{-]{+buildSetupConfig({+}
      language,
@@ -68,18 +117,78 @@ export async function setup() {
      apiKey,
      {+ollamaUrl,+}
      model,
      [-commitConvention,-]
[-      branchNaming,-]
[-      followProjectPatterns,-]
[-      codeReviewStyle,-]
[-      prMessageStyle,-]{+convention,+}
{+      prTemplate,+}
      customInstructions
    {+});+}
{+  } catch (error) {+}
{+    handleSetupError(error);+}
{+  }+}
{+}+}

{+/**+}
{+ * Run a specific setup step+}
{+ */+}
{+export async function setupStep(step) {+}
{+  const config = loadConfig();+}
{+  console.log();+}

{+  try {+}
{+    const stepHandlers = {+}
{+      [SETUP_STEPS.LANGUAGE]: async () => {+}
{+        const language = await selectLanguage();+}
{+        i18n.setLanguage(language);+}
{+        return { language };+}
{+      },+}

{+      [SETUP_STEPS.PROVIDER]: async () => {+}
{+        const provider = await selectProvider();+}
{+        const { apiKey, ollamaUrl } = await promptProviderCredentials(provider);+}
{+        const model = await selectModel(provider, ollamaUrl);+}
{+        return { provider, apiKey, ollamaUrl, model };+}
{+      },+}

{+      [SETUP_STEPS.MODEL]: async () => {+}
{+        if (!config.provider) {+}
{+          showError('No provider configured.', 'Run "setup provider" first.');+}
{+          return null;+}
{+        }+}
{+        const model = await selectModel(config.provider, config.ollamaUrl);+}
{+        return { model };+}
{+      },+}

{+      [SETUP_STEPS.CONVENTION]: async () => {+}
{+        const commitConvention = await selectConvention();+}
{+        return { commitConvention };+}
{+      },+}

{+      [SETUP_STEPS.CUSTOM]: async () => {+}
{+        const customInstructions = await promptCustomInstructions();+}
{+        return { customInstructions };+}
{+      }+}
    };

    {+// Handle both 'custom' and 'instructions' aliases+}
{+    const handler = stepHandlers[step] || stepHandlers[SETUP_STEPS.CUSTOM];+}

{+    if (!handler) {+}
{+      showError(+}
{+        `Unknown setup step: ${step}`,+}
{+        'Available steps: language, provider, model, convention, custom'+}
{+      );+}
{+      return;+}
{+    }+}

{+    const updates = await handler();+}

{+    if (updates) {+}
{+      Object.assign(config, updates);+}
{+      saveConfig(config);+}
{+      showSuccess('Configuration updated successfully!');+}
{+    }+}
  } catch (error) {
    if (error.name === 'ExitPromptError') {
[-      // User cancelled setup-]
      console.log();
      [-console.log(chalk.yellow(i18n.t('setup.setupCancelled') || 'Setup-]{+console.log(chalk.yellow('Setup+} cancelled.'));[-process.exit(0);-]
    } {+else {+}
      throw error;
@@ -87,8 +196,7 @@ export async function setup() {
  }
{+}+}

[-/**-]
[- * Language selection step (always in English initially)-]
[- */-]{+// Step implementations+}
async function selectLanguage() {
  [-const language =-]{+return+} await select({
    message: 'Choose your preferred language:',
@@ -112,10 +220,7 @@ async function selectLanguage() {
    default: 'en'
  {+}, {+}
{+    clearPromptOnDone: true+}
  });

[-  return language;-]
}

[-/**-]
[- * Provider selection step with descriptions-]
[- */-]
async function selectProvider() {
@@ -123,29 +228,24 @@ async function selectProvider() {

  [-const provider =-]{+return+} await select({
    message: i18n.t('setup.selectProvider'),
    choices: [-[-]
[-      {-]
[-        name: i18n.t('setup.providers.openai'),-]
[-        value: 'openai',-]
[-        description: i18n.t('setup.providers.openaiDesc')-]
[-      },-]
[-      {-]{+['openai', 'claude', 'gemini', 'ollama'].map(provider => ({+}
      name: [-i18n.t('setup.providers.claude'),-]{+i18n.t(`setup.providers.${provider}`),+}
      value: [-'claude',-]{+provider,+}
      description: [-i18n.t('setup.providers.claudeDesc')-]{+i18n.t(`setup.providers.${provider}Desc`)+}
{+    }))+}
  }, {
    [-name: i18n.t('setup.providers.gemini'),-]
[-        value: 'gemini',-]
[-        description: i18n.t('setup.providers.geminiDesc')-]
[-      }-]
[-    ]-]{+clearPromptOnDone: true+}
  });
{+}+}

{+async function promptProviderCredentials(provider) {+}
{+  if (provider === 'ollama') {+}
{+    const ollamaUrl = await promptOllamaUrl();+}
    return [-provider;-]{+{ apiKey: null, ollamaUrl };+}
{+  }+}

{+  const apiKey = await promptApiKey(provider);+}
{+  return { apiKey, ollamaUrl: null };+}
}

[-/**-]
[- * API Key input with helper text-]
[- */-]
async function promptApiKey(provider) {
@@ -153,10 +253,11 @@ async function promptApiKey(provider) {

[-// Show helpful link to get API key-]  const [-urls-]{+apiKeyUrls+} = {
    [-'openai':-]{+openai:+} i18n.t('setup.apiKeyHelpUrls.openai'),
    [-'claude':-]{+claude:+} i18n.t('setup.apiKeyHelpUrls.claude'),
    [-'gemini':-]{+gemini:+} i18n.t('setup.apiKeyHelpUrls.gemini')
  };

  console.log(chalk.dim('  ' + i18n.t('setup.apiKeyHelp', {
    url: [-chalk.cyan(urls[provider])-]{+chalk.cyan(apiKeyUrls[provider])+}
  })));
  console.log();
@@ -166,11 +267,5 @@ async function promptApiKey(provider) {
    mask: '•',
    validate: [-(value) =>-]{+validateApiKey+}
{+  },+} {
    [-if (!value || value.trim().length === 0) {-]
[-        return 'API key cannot be empty';-]
[-      }-]
[-      if (value.trim().length < 10) {-]
[-        return 'API key seems too short. Please check and try again.';-]
[-      }-]
[-      return true;-]
[-    }-]{+clearPromptOnDone: true+}
  });
@@ -180,187 +275,99 @@ async function promptApiKey(provider) {

[-/**-]
[- * Get default model for provider-]
[- */-]{+async+} function [-getDefaultModel(provider)-]{+promptOllamaUrl()+} {
  const [-defaultModels-]{+url+} = {+await input({+}
{+    message: `Enter your Ollama URL (default: ${DEFAULT_OLLAMA_URL}): `,+}
{+    default: DEFAULT_OLLAMA_URL+}
{+  },+} {
    [-'openai': 'gpt-4',-]
[-    'claude': 'claude-3-5-sonnet-20241022',-]
[-    'gemini': 'gemini-pro'-]
[-  };-]{+clearPromptOnDone: true+}
{+  });+}

  return [-defaultModels[provider] || 'default';-]{+url.trim();+}
}

[-/**-]
[- * Select commit message convention-]
[- */-]async function [-selectCommitConvention()-]{+selectModel(provider, ollamaUrl = null)+} {
  console.log();

  [-const convention = await select({-]
[-    message: i18n.t('setup.selectCommitConvention'),-]
[-    choices: [-]
[-      {-]
[-        name: i18n.t('setup.commitConventions.conventional'),-]
[-        value: 'conventional',-]
[-        description: i18n.t('setup.commitConventions.conventionalDesc')-]
[-      },-]
[-      {-]
[-        name: i18n.t('setup.commitConventions.gitmoji'),-]
[-        value: 'gitmoji',-]
[-        description: i18n.t('setup.commitConventions.gitmojiDesc')-]
[-      },-]{+if (provider === 'ollama')+} {
    [-name: i18n.t('setup.commitConventions.simple'),-]
[-        value: 'simple',-]
[-        description: i18n.t('setup.commitConventions.simpleDesc')-]
[-      },-]
[-      {-]
[-        name: i18n.t('setup.commitConventions.custom'),-]
[-        value: 'custom',-]
[-        description: i18n.t('setup.commitConventions.customDesc')-]{+return await selectOllamaModel(ollamaUrl);+}
  }
[-    ],-]
[-    default: 'conventional'-]
[-  });-]

[-  // If custom, ask for the custom format-]
[-  if (convention === 'custom') {-]
[-    console.log();-]
[-    console.log(chalk.dim('  ' + i18n.t('setup.customCommitHelp')));-]
[-    console.log();-]

[-const customFormat = await editor({-]
[-      message: i18n.t('setup.enterCustomCommit'),-]
[-      default: i18n.t('setup.customCommitExample'),-]
[-      waitForUseInput: false,-]
[-      validate: (value) => {-]
[-        if (!value || value.trim().length === 0) {-]
[-          return i18n.t('setup.customCommitRequired') || 'Custom format cannot be empty';-]
[-        }-]  return [-true;-]{+await promptModelName(provider);+}
}
[-    });-]

[-// Return an object with both the type and the custom format-]{+async function selectOllamaModel(ollamaUrl) {+}
{+  try {+}
{+    const models = await fetchOllamaModels(ollamaUrl);+}

{+    if (models.length === 0) {+}
{+      console.log(chalk.yellow('  No models found. Please install a model first.'));+}
      return {+await promptModelName('ollama', DEFAULT_OLLAMA_MODEL);+}
{+    }+}

{+    return await select({+}
{+      message: 'Select an Ollama model:',+}
{+      choices: models.map(m => ({+}
{+        name: m.name,+}
{+        value: m.name,+}
{+        description: `Size: ${(m.size / BYTES_TO_GB).toFixed(2)} GB`+}
{+      }))+}
{+    },+} {
      [-type: 'custom',-]
[-      format: customFormat.trim()-]
[-    };-]{+clearPromptOnDone: true+}
{+    });+}
{+  } catch (error) {+}
{+    console.log(chalk.yellow('  Could not connect to Ollama. Using default.'));+}
{+    return DEFAULT_OLLAMA_MODEL;+}
{+  }+}
}

[-return-]{+async function fetchOllamaModels(ollamaUrl)+} {
  [-type: convention,-]
[-    format: null-]
[-  };-]{+const response = await axios.get(`${ollamaUrl}/api/tags`);+}
{+  return response.data.models || [];+}
}

[-/**-]
[- * Select branch naming convention-]
[- */-]async function [-selectBranchNaming()-]{+promptModelName(provider, defaultModel = null)+} {
  [-console.log();-]{+const model = await input({+}
{+    message: `Enter model name for ${provider}:`,+}
{+    default: defaultModel || DEFAULT_MODELS[provider] || ''+}
{+  }, {+}
{+    clearPromptOnDone: true+}
{+  });+}

  [-const naming = await select({-]
[-    message: i18n.t('setup.selectBranchNaming'),-]
[-    choices: [-]
[-      {-]
[-        name: i18n.t('setup.branchNaming.gitflow'),-]
[-        value: 'gitflow',-]
[-        description: i18n.t('setup.branchNaming.gitflowDesc')-]
[-      },-]
[-      {-]
[-        name: i18n.t('setup.branchNaming.descriptive'),-]
[-        value: 'descriptive',-]
[-        description: i18n.t('setup.branchNaming.descriptiveDesc')-]
[-      },-]
[-      {-]
[-        name: i18n.t('setup.branchNaming.ticket'),-]
[-        value: 'ticket-based',-]
[-        description: i18n.t('setup.branchNaming.ticketDesc')-]
[-      },-]
[-      {-]
[-        name: i18n.t('setup.branchNaming.custom'),-]
[-        value: 'custom',-]
[-        description: i18n.t('setup.branchNaming.customDesc')-]{+return model.trim();+}
}
[-    ],-]
[-    default: 'gitflow'-]
[-  });-]

[-// If custom, ask for the custom format-]
[-  if (naming === 'custom')-]{+async function selectConvention()+} {[-console.log();-]
[-    console.log(chalk.dim('  ' + i18n.t('setup.customBranchHelp')));-]
  console.log();

  const [-customFormat-]{+conventions = ['conventional', 'gitmoji', 'simple', 'custom'];+}
{+  const convention+} = await [-editor({-]{+select({+}
    message: [-i18n.t('setup.enterCustomBranch'),-]
[-      default: i18n.t('setup.customBranchExample'),-]
[-      waitForUseInput: false,-]
[-      validate: (value)-]{+i18n.t('setup.selectCommitConvention'),+}
{+    choices: conventions.map(conv+} => {+({+}
{+      name: i18n.t(`setup.commitConventions.${conv}`),+}
{+      value: conv,+}
{+      description: i18n.t(`setup.commitConventions.${conv}Desc`)+}
{+    })),+}
{+    default: 'conventional'+}
{+  },+} {
    [-if (!value || value.trim().length === 0) {-]
[-          return i18n.t('setup.customBranchRequired') || 'Custom format cannot be empty';-]
[-        }-]
[-        return true;-]
[-      }-]{+clearPromptOnDone: true+}
  });

  [-return-]{+if (convention === 'custom')+} {
    [-type: 'custom',-]
[-      format: customFormat.trim()-]
[-    };-]{+return await promptCustomConvention();+}
  }

  return { type: [-naming,-]{+convention,+} format: null };
}

[-/**-]
[- * Ask if user wants to follow project patterns-]
[- */-]async function [-askFollowProjectPatterns()-]{+promptCustomConvention()+} {
  console.log();
  [-const followPatterns = await confirm({-]
[-    message: i18n.t('setup.followProjectPatterns'),-]
[-    default: true-]
[-  });-]

[-  if (!followPatterns) {-]
[-    return {-]
[-      enabled: false,-]
[-      analyzeDepth: 0-]
[-    };-]
[-  }-]{+console.log(chalk.dim('  ' + i18n.t('setup.customCommitHelp')));+}
  console.log();

  const [-analyzeDepth-]{+customFormat+} = await [-select({-]{+editor({+}
    message: [-i18n.t('setup.selectAnalyzeDepth'),-]
[-    choices: [-]
[-      {-]
[-        name: i18n.t('setup.analyzeDepth.last10'),-]
[-        value: 10,-]
[-        description: i18n.t('setup.analyzeDepth.last10Desc')-]
[-      },-]
[-      {-]
[-        name: i18n.t('setup.analyzeDepth.last25'),-]
[-        value: 25,-]
[-        description: i18n.t('setup.analyzeDepth.last25Desc')-]
[-      },-]
[-      {-]
[-        name: i18n.t('setup.analyzeDepth.last50'),-]
[-        value: 50,-]
[-        description: i18n.t('setup.analyzeDepth.last50Desc')-]{+i18n.t('setup.enterCustomCommit'),+}
{+    default: i18n.t('setup.customCommitExample'),+}
{+    waitForUseInput: false,+}
{+    validate: validateCustomFormat+}
  }, {
    [-name: i18n.t('setup.analyzeDepth.all'),-]
[-        value: 0,-]
[-        description: i18n.t('setup.analyzeDepth.allDesc')-]
[-      }-]
[-    ],-]
[-    default: 25-]{+clearPromptOnDone: true+}
  });
@@ -368,6 +375,4 @@ async function askFollowProjectPatterns() {
  return {
    [-enabled: true,-]
[-    analyzeDepth: analyzeDepth,-]
[-    analyzeBranches: true,-]
[-    analyzeCommits: true-]{+type: 'custom',+}
{+    format: customFormat.trim()+}
  };
@@ -375,67 +380,13 @@ async function askFollowProjectPatterns() {

[-/**-]
[- * Select code review style-]
[- */-]{+export+} async function [-selectCodeReviewStyle()-]{+detectPRTemplate()+} {
  [-console.log();-]

[-  const style = await select({-]
[-    message: i18n.t('setup.selectCodeReviewStyle'),-]
[-    choices: [-]{+for (const templatePath of PR_TEMPLATE_PATHS)+} {
    [-name: i18n.t('setup.codeReviewStyles.detailed'),-]
[-        value: 'detailed',-]
[-        description: i18n.t('setup.codeReviewStyles.detailedDesc')-]
[-      },-]{+if (fs.existsSync(templatePath))+} {
      [-name: i18n.t('setup.codeReviewStyles.concise'),-]
[-        value: 'concise',-]
[-        description: i18n.t('setup.codeReviewStyles.conciseDesc')-]
[-      },-]{+console.log(chalk.green('  ✓ Found PR template: ') + chalk.dim(templatePath));+}
{+      return+} { [-name: i18n.t('setup.codeReviewStyles.security'),-]
[-        value: 'security-focused',-]
[-        description: i18n.t('setup.codeReviewStyles.securityDesc')-]{+path: templatePath, style: 'template' };+}
    }
[-    ],-]
[-    default: 'detailed'-]
[-  });-]

[-  return style;-]
  }

  [-/**-]
[- * Select PR message style-]
[- */-]
[-async function selectPRMessageStyle() {-]
[-  console.log();-]

[-  const style = await select({-]
[-    message: i18n.t('setup.selectPRStyle'),-]
[-    choices: [-]
[-      {-]
[-        name: i18n.t('setup.prStyles.detailed'),-]
[-        value: 'detailed',-]
[-        description: i18n.t('setup.prStyles.detailedDesc')-]
[-      },-]
[-      {-]
[-        name: i18n.t('setup.prStyles.concise'),-]
[-        value: 'concise',-]
[-        description: i18n.t('setup.prStyles.conciseDesc')-]
[-      },-]{+return+} { [-name: i18n.t('setup.prStyles.technical'),-]
[-        value: 'technical',-]
[-        description: i18n.t('setup.prStyles.technicalDesc')-]
[-      }-]
[-    ],-]
[-    default:-]{+path: null, style:+} 'detailed' [-});-]

[-  return style;-]{+};+}
}

[-/**-]
[- * Prompt for custom instructions/observations-]
[- */-]
async function promptCustomInstructions() {
@@ -446,7 +397,7 @@ async function promptCustomInstructions() {
    default: false
  {+}, {+}
{+    clearPromptOnDone: true+}
  });

  if (!wantsCustom)[-{-] return '';[-}-]

@@ -461,8 +412,5 @@ async function promptCustomInstructions() {
    waitForUseInput: false,
    validate: [-(value) =>-]{+validateInstructions+}
{+  },+} {
    [-if (value && value.length > 1000) {-]
[-        return i18n.t('setup.customInstructionsTooLong') || 'Instructions too long (max 1000 characters)';-]
[-      }-]
[-      return true;-]
[-    }-]{+clearPromptOnDone: true+}
  });
@@ -472,14 +420,23 @@ async function promptCustomInstructions() {

[-/**-]
[- * Test API connection (optional, can be implemented later)-]
[- */-]
[-async-]function [-testConnection(provider,-]{+buildSetupConfig({+}
{+  language,+}
{+  provider,+}
  apiKey,
  [-model)-]{+ollamaUrl,+}
{+  model,+}
{+  convention,+}
{+  prTemplate,+}
{+  customInstructions+}
{+})+} {[-console.log();-]
[-  console.log(chalk.dim('  ' + i18n.t('setup.testing', { provider })));-]

[-  // TODO: Implement actual API test-]
[-  // For now, just simulate-]
[-  await new Promise(resolve => setTimeout(resolve, 1000));-]
  return [-true;-]{+{+}
{+    language,+}
{+    provider,+}
{+    apiKey,+}
{+    ollamaUrl,+}
{+    model,+}
{+    commitConvention: convention,+}
{+    prTemplatePath: prTemplate.path,+}
{+    prMessageStyle: prTemplate.style,+}
{+    customInstructions+}
{+  };+}
}
diff --git a/src/commands/squawk.js b/src/commands/squawk.js
index 1dd1e3b..7bbeea9 100644
--- a/src/commands/squawk.js
+++ b/src/commands/squawk.js
@@ -4,2 +4,5 @@ import chalk from 'chalk';
import { filterByGlob, matchesAnyPattern } from '../utils/glob.js';
{+import TransientProgress from '../utils/transient-progress.js';+}
{+import { select } from '@inquirer/prompts';+}
{+import logUpdate from 'log-update';+}

@@ -259,4 +262,3 @@ export async function squawk(repo, provider, options = {}) {

    [-const elapsed = ((Date.now() - startTime) / 1000).toFixed(1);-]
[-    showSquawkSummary(stats, elapsed);-]{+showSquawkSummary(stats);+}
  } catch (error) {
@@ -341,9 +343,9 @@ function applyGroupPatterns(changes, groupPatterns) {
/**
 * [-Progress-]{+Simple stats+} tracker for squawk command
 */
class [-SquawkProgress-]{+SquawkStats+} {
  [-constructor(total)-]{+constructor()+} {[-this.total = total;-]
    this.completed = 0;
    this.failed = 0;
    {+this.skipped = 0;+}
    this.startTime = Date.now();
@@ -351,55 +353,16 @@ class SquawkProgress {

  [-/**-]
[-   * Updates and displays the progress header-]
[-   */-]
[-  updateProgress() {-]
[-    const remaining = this.total - this.completed - this.failed;-]
[-    const percentage = Math.floor((this.completed / this.total) * 100);-]

[-    // Calculate estimated time remaining-]
[-    const elapsed = Date.now() - this.startTime;-]
[-    const avgTimePerFile = this.completed > 0 ? elapsed / this.completed : 0;-]
[-    const estimatedRemaining = avgTimePerFile * remaining;-]
[-    const estimatedSeconds = Math.ceil(estimatedRemaining / 1000);-]

[-    // Build progress bar-]
[-    const barWidth = 20;-]
[-    const filledWidth = Math.floor((this.completed / this.total) * barWidth);-]
[-    const emptyWidth = barWidth - filledWidth;-]
[-    const progressBar = chalk.green('█'.repeat(filledWidth)) + chalk.dim('░'.repeat(emptyWidth));-]

[-    // Build stats line-]
[-    const stats = [-]
[-      chalk.white(`${this.completed}/${this.total} files`),-]
[-      chalk.cyan(`${remaining} remaining`),-]
[-      this.failed > 0 ? chalk.red(`${this.failed} failed`) : null,-]
[-      estimatedSeconds > 0 && remaining > 0 ? chalk.dim(`~${estimatedSeconds}s left`) : null-]
[-    ].filter(Boolean).join(chalk.dim(' | '));-]

[-    // Clear and write progress line-]
[-    process.stdout.write('\r\x1b[K');-]
[-    process.stdout.write(`${progressBar} ${chalk.bold(`${percentage}%`)} ${chalk.dim('|')} ${stats}`);-]
[-  }-]

[-  /**-]
[-   * Marks a file as completed and updates progress-]
[-   */-]
[-  complete()-]{+incrementCompleted()+} {
    this.completed++;
[-    this.updateProgress();-]
  }

  [-/**-]
[-   * Marks a file as failed and updates progress-]
[-   */-]
[-  fail()-]{+incrementFailed()+} {
    this.failed++;
[-    this.updateProgress();-]
  }

  [-/**-]
[-   * Finishes progress tracking-]
[-   */-]
[-  finish()-]{+incrementSkipped()+} {
    [-process.stdout.write('\n\n');-]{+this.skipped++;+}
{+  }+}

{+  getElapsed() {+}
{+    return ((Date.now() - this.startTime) / 1000).toFixed(1);+}
  }
@@ -428,20 +391,6 @@ function showSquawkTitle() {
async function processFilesSequentially(repo, provider, changes, groups, timestamps = null) {
  const stats = [-{-]
[-    groupCommits: 0,-]
[-    groupFiles: 0,-]
[-    individualCommits: 0,-]
[-    totalCommits: 0,-]
[-    failed: 0-]
[-  };-]

[-  const totalItems = groups.length + changes.length;-]{+new SquawkStats();+}
  const [-progress-]{+transientProgress+} = new [-SquawkProgress(totalItems);-]

[-  // Initialize progress display-]
[-  progress.updateProgress();-]{+TransientProgress();+}

  const groupStats = await processGroups(repo, provider, groups, changes.length, timestamps, [-progress);-]
[-  stats.groupCommits = groupStats.commits;-]
[-  stats.groupFiles = groupStats.files;-]
[-  stats.failed += groupStats.failed;-]{+transientProgress, stats);+}

@@ -451,8 +400,10 @@ async function processFilesSequentially(repo, provider, changes, groups, timesta

    [-try {-]{+const result =+} await processSingleFile(repo, provider, change, timestamp, [-progress);-]
[-      stats.individualCommits++;-]{+transientProgress);+}

{+    if (result === 'committed') {+}
{+      stats.incrementCompleted();+}
{+    } else if (result === 'failed') {+}
{+      stats.incrementFailed();+}
    } [-catch (error)-]{+else if (result === 'skipped')+} {
      [-progress.fail();-]
[-      logFileError(change.value, error.message);-]{+stats.incrementSkipped();+}
    }
@@ -460,7 +411,2 @@ async function processFilesSequentially(repo, provider, changes, groups, timesta

[-  // Finish progress display-]
[-  progress.finish();-]

[-  stats.totalCommits = stats.groupCommits + stats.individualCommits;-]
[-  stats.failed = progress.failed;-]
  return stats;
@@ -475,8 +421,7 @@ async function processFilesSequentially(repo, provider, changes, groups, timesta
 * @param {Array<Date>} timestamps - Array of timestamps for each commit (optional)
 * @param [-{SquawkProgress}-]{+{TransientProgress} transientProgress - Transient+} progress {+instance+}
{+ * @param {SquawkStats} stats+} - [-Progress-]{+Stats+} tracker instance
 * @returns {Promise<Object>} Statistics about group commits
 */
async function processGroups(repo, provider, groups, totalIndividual, timestamps = null, [-progress-]{+transientProgress+} = [-null) {-]
[-  const-]{+null,+} stats = {+null)+} {[-commits: 0, files: 0, failed: 0 };-]
  for (let j = 0; j < groups.length; j++) {
@@ -488,18 +433,78 @@ async function processGroups(repo, provider, groups, totalIndividual, timestamps

    {+const result = await processGroupCommit(repo, provider, group, timestamp, transientProgress);+}

{+    if (result === 'committed') {+}
{+      stats.incrementCompleted();+}
{+    } else if (result === 'failed') {+}
{+      stats.incrementFailed();+}
{+    } else if (result === 'skipped') {+}
{+      stats.incrementSkipped();+}
{+    }+}
{+  }+}

{+  return stats;+}
{+}+}

{+/**+}
{+ * Processes a group commit with new UI flow+}
{+ * @param {Object} repo - Git repository instance+}
{+ * @param {Object} provider - LLM provider instance+}
{+ * @param {Object} group - Group object containing files+}
{+ * @param {Date} timestamp - Optional timestamp for the commit+}
{+ * @param {TransientProgress} transientProgress - Transient progress instance+}
{+ * @returns {Promise<string>} Result status: 'committed', 'skipped', or 'failed'+}
{+ */+}
{+async function processGroupCommit(repo, provider, group, timestamp = null, transientProgress = null) {+}
  try {
    {+// Stage the files+}
    await stageFiles(repo, group.files);

    {+// Show transient "Generating message..." indicator+}
{+    if (transientProgress) {+}
{+      transientProgress.showTransient('Generating message...', 'generating');+}
{+    }+}

{+    // Generate commit message+}
    const commitMessage = await generateCommitMessage(repo, provider);
[-      await commitFile(repo, group.files, commitMessage, timestamp);-]

    [-stats.commits++;-]
[-      stats.files += group.files.length;-]{+// Clear the transient message+}
    if [-(progress) progress.complete();-]{+(transientProgress) {+}
{+      transientProgress.clearTransient();+}
{+    }+}

{+    // Display the generated message with ">" prefix (using regular console.log before prompt)+}
{+    console.log();+}
{+    console.log(chalk.rgb(34, 197, 94)('> ') + chalk.white(commitMessage));+}
{+    console.log();+}

{+    // Show interactive approval prompt+}
{+    const action = await select({+}
{+      message: 'Approve this message?',+}
{+      choices: [+}
{+        { name: 'Yes, commit', value: 'approve' },+}
{+        { name: 'Skip this commit', value: 'skip' },+}
{+        { name: 'Retry generation', value: 'retry' }+}
{+      ]+}
{+    });+}

{+    // Clear the terminal lines for the message display after user responds+}
{+    // (inquirer already clears its prompt, so we just need to clear what we wrote)+}
{+    process.stdout.write('\x1b[3A\x1b[0J'); // Move up 3 lines and clear from cursor down+}

{+    if (action === 'approve') {+}
{+      await commitFile(repo, group.files, commitMessage, timestamp);+}
{+      return 'committed';+}
{+    } else if (action === 'skip') {+}
{+      return 'skipped';+}
{+    } else if (action === 'retry') {+}
{+      // Recursive retry+}
{+      return await processGroupCommit(repo, provider, group, timestamp, transientProgress);+}
{+    }+}
  } catch (error) {
[-stats.failed++;-]    if [-(progress) progress.fail();-]
[-      logFileError(group.pattern, error.message);-]{+(transientProgress) {+}
{+      transientProgress.clearTransient();+}
    }
    {+logFileError(group.pattern, error.message);+}
{+    return 'failed';+}
  }

[-  return stats;-]
}
@@ -512,10 +517,58 @@ async function processGroups(repo, provider, groups, totalIndividual, timestamps
 * @param {Date} timestamp - Optional timestamp for the commit
 * @param [-{SquawkProgress} progress-]{+{TransientProgress} transientProgress+} - [-Progress tracker-]{+Transient progress+} instance
 {+* @returns {Promise<string>} Result status: 'committed', 'skipped', or 'failed'+}
 */
async function processSingleFile(repo, provider, change, timestamp = null, [-progress-]{+transientProgress+} = null) {
  {+try {+}
{+    // Stage the file+}
    await stageFiles(repo, [change.value]);

    {+// Show transient "Generating message..." indicator+}
{+    if (transientProgress) {+}
{+      transientProgress.showTransient('Generating message...', 'generating');+}
{+    }+}

{+    // Generate commit message+}
    const commitMessage = await generateCommitMessage(repo, provider);
[-  await commitFile(repo, [change.value], commitMessage, timestamp);-]

    {+// Clear the transient message+}
    if [-(progress) progress.complete();-]{+(transientProgress) {+}
{+      transientProgress.clearTransient();+}
{+    }+}

{+    // Display the generated message with ">" prefix (using regular console.log before prompt)+}
{+    console.log();+}
{+    console.log(chalk.rgb(34, 197, 94)('> ') + chalk.white(commitMessage));+}
{+    console.log();+}

{+    // Show interactive approval prompt+}
{+    const action = await select({+}
{+      message: 'Approve this message?',+}
{+      choices: [+}
{+        { name: 'Yes, commit', value: 'approve' },+}
{+        { name: 'Skip this commit', value: 'skip' },+}
{+        { name: 'Retry generation', value: 'retry' }+}
{+      ]+}
{+    });+}

{+    // Clear the terminal lines for the message display after user responds+}
{+    // (inquirer already clears its prompt, so we just need to clear what we wrote)+}
{+    process.stdout.write('\x1b[3A\x1b[0J'); // Move up 3 lines and clear from cursor down+}

{+    if (action === 'approve') {+}
{+      await commitFile(repo, [change.value], commitMessage, timestamp);+}
{+      return 'committed';+}
{+    } else if (action === 'skip') {+}
{+      return 'skipped';+}
{+    } else if (action === 'retry') {+}
{+      // Recursive retry+}
{+      return await processSingleFile(repo, provider, change, timestamp, transientProgress);+}
{+    }+}
{+  } catch (error) {+}
{+    if (transientProgress) {+}
{+      transientProgress.clearTransient();+}
{+    }+}
{+    logFileError(change.value, error.message);+}
{+    return 'failed';+}
{+  }+}
}
@@ -571,35 +624,19 @@ async function commitFile(repo, files, message, timestamp = null) {
 * Displays a formatted summary with stats and timing
 * @param [-{Object}-]{+{SquawkStats}+} stats - Statistics [-about commits-]
[- * @param {string} elapsed - Elapsed time in seconds-]{+tracker instance+}
 */
function [-showSquawkSummary(stats, elapsed)-]{+showSquawkSummary(stats)+} {
  [-const separator = '━'.repeat(Math.min(process.stdout.columns - 2 || 78, 80));-]
[-  console.log(chalk.dim(separator));-]{+console.log();+}
{+  console.log(chalk.cyan.bold('Summary'));+}
  console.log();

  const [-totalFiles-]{+total+} = [-stats.groupFiles-]{+stats.completed+} + [-stats.individualCommits;-]
[-  const summaryText = i18n.t('git.squawk.summaryComplete', {-]
[-    count: stats.totalCommits,-]
[-    files: totalFiles-]
[-  });-]
[-  console.log(chalk.green.bold(`✨ ${summaryText}`));-]{+stats.failed + stats.skipped;+}

  if [-(stats.groupCommits-]{+(stats.completed+} > 0) {
    [-const groupText = i18n.t('git.squawk.groupCommits', {-]
[-      count: stats.groupCommits,-]
[-      files: stats.groupFiles-]
[-    });-]
[-    console.log(chalk.dim(`   • ${groupText}`));-]{+console.log(chalk.green(`  ✓ ${stats.completed} committed`));+}
  }
  if [-(stats.individualCommits-]{+(stats.skipped+} > 0) {
    [-const individualText = i18n.t('git.squawk.individualCommits', {-]
[-      count: stats.individualCommits-]
[-    });-]
[-    console.log(chalk.dim(`   • ${individualText}`));-]{+console.log(chalk.yellow(`  ⊘ ${stats.skipped} skipped`));+}
  }
  if (stats.failed > 0) {
[-const failedText = i18n.t('git.squawk.failedCommits', {-]
[-      count: stats.failed-]
[-    });-]    console.log(chalk.red(`  [-• ${failedText}`));-]{+✗ ${stats.failed} failed`));+}

@@ -608,6 +645,4 @@ function showSquawkSummary(stats, elapsed) {
      console.log();
[-      console.log(chalk.red.bold('   Failed files:'));-]
      fileErrors.forEach(({ filename, error }) => {
        console.log(chalk.red(`    [-✗ ${filename}`));-]
[-        console.log(chalk.dim(`-]{+${filename}:+} ${error}`));
      });
@@ -616,4 +651,5 @@ function showSquawkSummary(stats, elapsed) {

  const[-timeText = i18n.t('git.squawk.completedIn', { time:-] elapsed [-});-]
[-  console.log(chalk.dim(`\n⏱️  ${timeText}`));-]{+= stats.getElapsed();+}
{+  console.log();+}
{+  console.log(chalk.dim(`  Completed in ${elapsed}s`));+}
  console.log();
diff --git a/src/lib/cli.js b/src/lib/cli.js
index 8b64c72..37fe425 100644
--- a/src/lib/cli.js
+++ b/src/lib/cli.js
@@ -91,48 +91,2 @@ class CLI {

[-  /**-]
[-   * Build enhanced prompt with context (directory, branch, model)-]
[-   */-]
[-  buildEnhancedPrompt() {-]
[-    // Get current directory (show relative to home if possible)-]
[-    const cwd = process.cwd();-]
[-    const home = process.env.HOME || process.env.USERPROFILE;-]
[-    const displayPath = home ? cwd.replace(home, '~') : cwd;-]

[-    // Try to get git branch with dirty indicator-]
[-    let branchInfo = '';-]
[-    let dirtyIndicator = '';-]
[-    try {-]
[-      if (this._gitRepository) {-]
[-        const repo = new this._gitRepository();-]
[-        const branch = repo.getCurrentBranch().trim();-]
[-        if (branch) {-]
[-          // Check if working directory has changes-]
[-          const isDirty = repo.hasUncommittedChanges();-]
[-          dirtyIndicator = isDirty ? chalk.rgb(239, 68, 68)('*') : '';-]
[-          branchInfo = chalk.rgb(234, 179, 8)(`[⎇ ${branch}${dirtyIndicator}]`);-]
[-        }-]
[-      }-]
[-    } catch {-]
[-      // Not in a git repo or error getting branch-]
[-    }-]

[-    // Build separator-]
[-    const width = process.stdout.columns || 80;-]
[-    const separator = chalk.rgb(100, 116, 139)('─'.repeat(width));-]

[-    // Build context line (directory + branch + helpful hints)-]
[-    const contextLine = ` ${chalk.dim(displayPath)}${branchInfo}`;-]

[-    // Build help hint line (git-focused)-]
[-    const hints = [-]
[-      chalk.cyan('status'),-]
[-      chalk.cyan('commit'),-]
[-      chalk.cyan('add'),-]
[-      chalk.cyan('help')-]
[-    ].join(chalk.dim(' · '));-]
[-    const helpLine = ` ${separator}\n ${chalk.dim('Commands:')} ${hints}`;-]

[-    return `${contextLine}\n${helpLine}\n${separator}\n`;-]
[-  }-]

  /**
@@ -174,3 +128,3 @@ class CLI {

      // Create colorful prompt[-with parrot colors-]
      const promptText = chalk.rgb(34, 197, 94).bold(this.options.prompt);
@@ -203,2 +157,4 @@ class CLI {
      'squawk',
      {+'pr',+}
{+      'hook',+}
      'help',
@@ -292,23 +248,2 @@ class CLI {

[-  /**-]
[-   * Process a user message-]
[-   */-]
[-  async processMessage(message) {-]
[-    // Add to history-]
[-    this.conversationHistory.push({-]
[-      role: 'user',-]
[-      content: message-]
[-    });-]

[-    console.log();-]
[-    this.streamer.showSeparator();-]

[-    // Show that we're thinking-]
[-    this.streamer.startThinking('Processing your request...');-]

[-    this.streamer.stopThinking();-]
[-    console.log();-]
[-    this.streamer.showSeparator();-]
[-  }-]

  /**
diff --git a/src/lib/streamer.js b/src/lib/streamer.js
index 9a40f8b..561a36e 100644
--- a/src/lib/streamer.js
+++ b/src/lib/streamer.js
@@ -2,4 +2,3 @@ import chalk from 'chalk';
import ora from 'ora';
import { [-createHeader, displayStaticHeader-]{+displayWelcomeBanner+} } from [-'../utils/header.js';-]
[-import { getRepoStats } from '../utils/repo-stats.js';-]{+'../utils/welcome-banner.js';+}
import i18n from '../services/i18n.js';
@@ -103,3 +102,2 @@ class StreamingOutput {
    console.error('\n' + chalk.rgb(239, 68, 68).bold('✗ ' + i18n.t('output.prefixes.error') + ' ') + chalk.white(error.message || error));
[-    console.error(chalk.rgb(239, 68, 68)('▓'.repeat(process.stdout.columns || 80)));-]
  }
@@ -179,11 +177,3 @@ class StreamingOutput {
  /**
   * Display[-a pixel-art style border-]
[-   */-]
[-  showPixelBorder() {-]
[-    const width = process.stdout.columns || 80;-]
[-    console.log(chalk.rgb(34, 197, 94)('▓'.repeat(width)));-]
[-  }-]

[-  /**-]
[-   * Display-] welcome banner[-with gradient header and static parrot-]
   */
@@ -193,4 +183,6 @@ class StreamingOutput {

    // Display [-static parrot header with mascot in bordered box-]{+welcome banner+}
    await [-displayStaticHeader(appName, version);-]{+displayWelcomeBanner(appName);+}

{+    console.log();+}

diff --git a/src/services/config.js b/src/services/config.js
index 3e75d2f..b310131 100644
--- a/src/services/config.js
+++ b/src/services/config.js
@@ -7,4 +7,16 @@ import i18n from './i18n.js';

{+// Constants+}
const CONFIG_DIR = path.join(os.homedir(), '.config', 'coparrot');
const CONFIG_PATH = path.join(CONFIG_DIR, 'config.json');
{+const CONFIG_ENCODING = 'utf-8';+}
{+const JSON_INDENT = 2;+}
{+const SETUP_DELAY_MS = 1500;+}

{+const DEFAULT_LANGUAGE = 'en';+}
{+const DEFAULT_PR_STYLE = 'detailed';+}
{+const DEFAULT_CONVENTION_TYPE = 'conventional';+}

{+const PROVIDER = {+}
{+  OLLAMA: 'ollama'+}
{+};+}

@@ -14,3 +26,3 @@ const CONFIG_PATH = path.join(CONFIG_DIR, 'config.json');
const DEFAULT_CONFIG = {
  language: [-'en',-]{+DEFAULT_LANGUAGE,+}
  provider: null,
@@ -18,18 +30,9 @@ const DEFAULT_CONFIG = {
  apiKey: null,
  {+ollamaUrl: null,+}
  commitConvention: {
    type: [-'conventional',-]{+DEFAULT_CONVENTION_TYPE,+}
    format: null
  },
  [-branchNaming: {-]
[-    type: 'gitflow',-]
[-    format: null-]
[-  },-]
[-  followProjectPatterns: {-]
[-    enabled: true,-]
[-    analyzeDepth: 25,-]
[-    analyzeBranches: true,-]
[-    analyzeCommits: true-]
[-  },-]
[-  codeReviewStyle: 'detailed',-]{+prTemplatePath: null,+}
  prMessageStyle: [-'detailed',-]{+DEFAULT_PR_STYLE,+}
  customInstructions: ''
@@ -37,2 +40,51 @@ const DEFAULT_CONFIG = {

{+// File system helpers+}
{+const ensureConfigDir = () => {+}
{+  if (!fs.existsSync(CONFIG_DIR)) {+}
{+    fs.mkdirSync(CONFIG_DIR, { recursive: true });+}
{+  }+}
{+};+}

{+const configExists = () => fs.existsSync(CONFIG_PATH);+}

{+const readConfigFile = () => {+}
{+  const data = fs.readFileSync(CONFIG_PATH, CONFIG_ENCODING);+}
{+  return JSON.parse(data);+}
{+};+}

{+const writeConfigFile = (config) => {+}
{+  ensureConfigDir();+}
{+  const data = JSON.stringify(config, null, JSON_INDENT);+}
{+  fs.writeFileSync(CONFIG_PATH, data, CONFIG_ENCODING);+}
{+};+}

{+// Validation helpers+}
{+const hasRequiredFields = (config) => {+}
{+  return config?.provider && config?.language;+}
{+};+}

{+const hasValidCredentials = (config) => {+}
{+  if (config.provider === PROVIDER.OLLAMA) {+}
{+    return !!config.ollamaUrl;+}
{+  }+}
{+  return !!config.apiKey;+}
{+};+}

{+// Error handling+}
{+const showConfigError = (action, error) => {+}
{+  const errorKey = `config.errors.${action}Error`;+}
{+  const message = i18n.t(errorKey, { error: error.message });+}
{+  console.error(chalk.red('⚠ ') + message);+}
{+};+}

{+const showSetupSuccess = (configPath) => {+}
{+  console.log();+}
{+  console.log(chalk.green('✓ ') + i18n.t('setup.configSaved', {+}
{+    path: chalk.dim(configPath)+}
{+  }));+}
{+  console.log();+}
{+  console.log(chalk.cyan('  ' + i18n.t('setup.readyToGo')));+}
{+  console.log();+}
{+};+}

/**
@@ -42,3 +94,3 @@ const DEFAULT_CONFIG = {
export function loadConfig() {
  if [-(!fs.existsSync(CONFIG_PATH))-]{+(!configExists())+} {
    return { ...DEFAULT_CONFIG };
@@ -47,6 +99,3 @@ export function loadConfig() {
  try {
    const[-data = fs.readFileSync(CONFIG_PATH, 'utf-8');-]
[-    const-] config = [-JSON.parse(data);-]

[-    // Merge with defaults to ensure all keys exist-]{+readConfigFile();+}
    const mergedConfig = { ...DEFAULT_CONFIG, ...config };
@@ -57,4 +106,4 @@ export function loadConfig() {
    return mergedConfig;
  } catch [-(err)-]{+(error)+} {
    [-console.error(chalk.red('⚠ ') + i18n.t('config.errors.readError', { error: err.message }));-]{+showConfigError('read', error);+}
    return { ...DEFAULT_CONFIG };
@@ -70,3 +119,2 @@ export function saveConfig(data) {
  try {
[-    // Ensure required fields-]
    const configToSave = {
@@ -76,9 +124,3 @@ export function saveConfig(data) {

    [-// Create config directory if it doesn't exist-]
[-    if (!fs.existsSync(CONFIG_DIR)) {-]
[-      fs.mkdirSync(CONFIG_DIR, { recursive: true });-]
[-    }-]

[-    // Write config file with pretty formatting-]
[-    fs.writeFileSync(CONFIG_PATH, JSON.stringify(configToSave, null, 2), 'utf-8');-]{+writeConfigFile(configToSave);+}

@@ -90,4 +132,4 @@ export function saveConfig(data) {
    return true;
  } catch [-(err)-]{+(error)+} {
    [-console.error(chalk.red('⚠ ') + i18n.t('config.errors.saveError', { error: err.message }));-]{+showConfigError('save', error);+}
    return false;
@@ -102,6 +144,3 @@ export async function setupConfig() {
  try {
[-    // Run interactive setup-]
    const preferences = await setup();

[-    // Load existing config (if any) and merge with new preferences-]
    const existingConfig = loadConfig();
@@ -109,3 +148,2 @@ export async function setupConfig() {

[-    // Save configuration-]
    const saved = saveConfig(newConfig);
@@ -113,11 +151,4 @@ export async function setupConfig() {
    if (saved) {
      [-console.log();-]
[-      console.log(chalk.green('✓ ') + i18n.t('setup.configSaved', { path: chalk.dim(CONFIG_PATH) }));-]
[-      console.log();-]
[-      console.log(chalk.cyan('  ' + i18n.t('setup.readyToGo')));-]
[-      console.log();-]

[-      // Wait a moment before starting the app-]{+showSetupSuccess(CONFIG_PATH);+}
      await new Promise(resolve => setTimeout(resolve, [-1500));-]{+SETUP_DELAY_MS));+}
      return true;
@@ -139,8 +170,3 @@ export async function setupConfig() {
export function isConfigValid(config) {
  return [-!!(-]
[-    config-]{+hasRequiredFields(config)+} && [-config.provider &&-]
[-    config.apiKey &&-]
[-    config.language-]
[-  );-]{+hasValidCredentials(config);+}
}
@@ -161,3 +187,3 @@ export function getLanguage() {
  const config = loadConfig();
  return config.language || [-'en';-]{+DEFAULT_LANGUAGE;+}
}
@@ -180,3 +206,3 @@ export function resetConfig() {
  try {
    if [-(fs.existsSync(CONFIG_PATH))-]{+(configExists())+} {
      fs.unlinkSync(CONFIG_PATH);
@@ -184,4 +210,4 @@ export function resetConfig() {
    return true;
  } catch [-(err)-]{+(error)+} {
    console.error(chalk.red('⚠ ') + 'Failed to reset config:', [-err.message);-]{+error.message);+}
    return false;
diff --git a/src/services/git.js b/src/services/git.js
index 52f686d..e78e231 100644
--- a/src/services/git.js
+++ b/src/services/git.js
@@ -86,3 +86,3 @@ class GitRepository {
  diff(files = [], options = {}) {
    const { staged = false, numstat = false, nameOnly = [-false-]{+false, compact = false, upstream = false, revisionRange = ""+} } = options;

@@ -92,2 +92,5 @@ class GitRepository {
    if (nameOnly) cmd += ' --name-only';
    {+if (compact) cmd += ' --unified=1 --word-diff=plain --ignore-all-space'+}
{+    if (upstream) cmd += ' @{u}'+}
{+    if (revisionRange) cmd += ` ${revisionRange}`+}
    if (files.length) cmd += ` -- ${files.map(f => `"${f}"`).join(' ')}`;
diff --git a/src/services/llms.js b/src/services/llms.js
index 42c8c52..f9c6b5e 100644
--- a/src/services/llms.js
+++ b/src/services/llms.js
@@ -10,2 +10,3 @@ import i18n from './i18n.js';
import axios from 'axios';
{+import logUpdate from "log-update";+}

@@ -15,2 +16,3 @@ class LLMOrchestrator {
      provider: options.provider || 'openAI',
      {+ollamaUrl: options.ollamaUrl,+} 
      apiKey: options.apiKey,
@@ -38,3 +40,3 @@ class LLMOrchestrator {
        break;
      case [-'llama':-]{+'ollama':+}
        return "local"
@@ -49,6 +51,3 @@ class LLMOrchestrator {
      case 'openai':
[-// setTimeout(() => {-]
[-        return { messages: "feat(commit): adds a message to your console"}-]
[-      // }, 4000);-]
[-      //-]        return this._callOpenAI(context, type, customInstructions);
      case 'claude':
@@ -57,4 +56,3 @@ class LLMOrchestrator {
        return this._callGemini(context, type, customInstructions);
      case [-'llama':-]
[-        console.log('trying to call llama')-]{+'ollama':+}
        return this._callLlama(context, type, customInstructions);
@@ -76,2 +74,4 @@ class LLMOrchestrator {
      ]
    {+}, {+}
{+      clearPromptOnDone: true+}
    });
@@ -81,2 +81,4 @@ class LLMOrchestrator {
        message: i18n.t('llm.customInstructionsPrompt')
      {+}, {+}
{+        clearPromptOnDone: true+}
      });
@@ -100,13 +102,5 @@ class LLMOrchestrator {
      try {
        [-// Use shimmer effect for generation-]
[-        const operation = this.streamer.startGeneratingOperation(loadingMessage);-]

[-        // Add substeps to show what's happening-]
[-        operation.substep(`Processing ${type} request`);-]
[-        operation.substep(`Calling ${this.options.provider} API`);-]{+this.streamer.startThinking(loadingMessage);+}
        response = await this.call(context, type, currentInstructions);
        [-// Mark as complete (will auto-clear after brief moment)-]
[-        operation.complete(i18n.t('llm.generationComplete'));-]{+this.streamer.stopThinking();+}

@@ -124,7 +118,3 @@ class LLMOrchestrator {
        }

[-        operation.complete(i18n.t('llm.generationComplete'));-]
      } catch (error) {
[-        this.streamer.clearTransient();-]
[-        this.streamer.showError(`Error generating ${type}: ${error}`);-]
        throw error;
@@ -144,2 +134,18 @@ class LLMOrchestrator {

  {+async generatePrMessage(context, customInstructions = null) {+}
{+    return this.generateWithApproval('pr', context, {+}
{+      loadingMessage: 'Generating commit message...',+}
{+      customInstructions+}
{+    });+}
{+  }+}

{+  /**+}
{+   * Generate commit message directly without UI/approval (for hooks)+}
{+   * @param {*} context - The diff context+}
{+   * @returns {Promise<string>} The generated commit message+}
{+   */+}
{+  async generateCommitMessageDirect(context) {+}
{+    return await this.call(context, 'commit', null);+}
{+  }+}

  async generateBranchName(context, customInstructions = null) {
@@ -207,4 +214,4 @@ class LLMOrchestrator {
    try {
      const response = await [-axios.post("http://localhost:11434/api/generate",-]{+axios.post(`${this.options.ollamaUrl}/api/generate`,+} {
        model: [-"qwen2.5:3b-instruct",-]{+this.options.model,+} // hard coded before we can implement a more scalable solution
        prompt: prompt,
@@ -237,3 +244,4 @@ class LLMOrchestrator {
      case 'branch':
        {+// Use commit convention for branches, default to gitflow if not set+}
        convention = [-this.options.instructions.branchNaming?.type-]{+this.options.instructions.commitConvention?.type+} || 'gitflow';
        break;
@@ -242,5 +250,2 @@ class LLMOrchestrator {
        break;
[-      case 'review':-]
[-        style = this.options.instructions.codeReviewStyle || 'detailed';-]
[-        break;-]
    }
@@ -257,7 +262,3 @@ class LLMOrchestrator {
  _showLLMResponse(response) {
    [-// Create visual separator-]

[-    // Display the response with enhanced formatting-]
[-    console.log(chalk.cyan.bold('  '-]{+console.log('\n'+} + [-i18n.t('llm.approvalTitle')));-]
[-    console.log(chalk.white.bold('\n'-]{+chalk.grey('## ')+} + [-response-]{+chalk.white(response)+} + [-'\n'));-]{+'\n');+}
  }
diff --git a/src/services/prompts.js b/src/services/prompts.js
index ef433b8..afc2f31 100644
--- a/src/services/prompts.js
+++ b/src/services/prompts.js
@@ -15,61 +15,27 @@ export function buildCommitPrompt(convention = 'conventional', baseInstructions
  const conventionGuides = {
    conventional: [-`Follow the Conventional Commits specification:-]
[-- Format: <type>[optional scope]:-]{+`Format: <type>[scope]:+} <description>[---]
Types: feat, fix, docs, style, refactor, perf, test, build, ci, [-chore, revert-]
[-- Use lowercase for type and description-]
[-- Description should be concise and in imperative mood-]
[---]{+chore+}
Example: "feat(auth): add user [-login functionality"-]
[-- Example: "fix: resolve null pointer exception in parser"`,-]

[-    semantic: `Follow Semantic Commit Messages:-]
[-- Format: <emoji> <type>: <subject>-]
[-- Types: feat, fix, docs, style, refactor, perf, test, chore-]
[-- Include relevant emoji (✨ feat, 🐛 fix, 📝 docs, etc.)-]
[-- Example: "✨ feat: implement user authentication"-]
[-- Example: "🐛 fix: correct validation logic"`,-]

[-    gitmoji: `Follow Gitmoji convention:-]
[-- Start with an appropriate gitmoji-]
[-- Follow with a clear, concise description-]
[-- Use imperative mood-]
[-- Common gitmojis: ✨ (new feature), 🐛 (bug fix), 📝 (docs), ♻️ (refactor)-]
[-- Example: "✨ Add dark mode toggle"-]
[-- Example: "🐛 Fix memory leak in event listener"`,-]

[-    angular: `Follow Angular commit convention:-]
[-- Format: <type>(<scope>): <subject>-]
[-- Types: build, ci, docs, feat, fix, perf, refactor, style, test-]
[-- Scope is optional but recommended-]
[-- Subject in imperative, present tense-]
[-- Example: "feat(core): implement lazy loading"-]
[-- Example: "fix(router): handle navigation errors"`,-]

[-    custom: `Follow the custom commit format specified in the configuration.`-]
[-  };-]{+login"`,+}

    [-const guide = conventionGuides[convention] || conventionGuides.conventional;-]{+semantic: `Format: <emoji> <type>: <subject>+}
{+Emojis: ✨ feat, 🐛 fix, 📝 docs, ♻️ refactor+}
{+Example: "✨ feat: implement authentication"`,+}

    [-return `You are a specialized git commit message generator.-]{+gitmoji: `Start with gitmoji: ✨ feature, 🐛 fix, 📝 docs, ♻️ refactor+}
{+Example: "✨ Add dark mode toggle"`,+}

    [-CRITICAL OUTPUT RULES:-]
[-- Return ONLY the commit message itself-]
[-- DO NOT include any explanations, notes, or additional text-]
[-- DO NOT wrap the message in quotes, backticks, or markdown code blocks-]
[-- DO NOT add "Here's the commit message:" or similar prefixes-]
[-- DO NOT add any commentary before or after the message-]
[-- The output should be ready to use directly in a git commit command-]{+angular: `Format: <type>(scope): <subject>+}
{+Types: build, ci, docs, feat, fix, perf, refactor, style, test+}
{+Example: "feat(core): implement lazy loading"`,+}

    [-${guide}-]{+custom: `Follow the custom format from config.`+}
{+  };+}

{+  const guide = conventionGuides[convention] || conventionGuides.conventional;+}

  [-COMMIT MESSAGE REQUIREMENTS:-]
[-1. Analyze the provided diff/context thoroughly-]
[-2. Identify the primary purpose of the changes-]
[-3. Write-]{+return `Generate+} a [-clear, descriptive message following the specified convention-]
[-4. Keep the first line under 72 characters when possible-]
[-5. If multiple changes are present, focus on the most significant one-]
[-6. Use present tense, imperative mood ("add" not "added" or "adds")-]{+git commit message. Output ONLY the message, no quotes, no explanations.+}

[-${baseInstructions}${additionalInstructions}-]{+${guide}+}

[-Remember: Output ONLY-]{+Analyze+} the [-commit message, nothing else.`;-]{+diff, identify the main change, use imperative mood, keep first line under 72 chars.${baseInstructions}${additionalInstructions}`;+}
}
@@ -85,60 +51,25 @@ export function buildBranchPrompt(convention = 'gitflow', baseInstructions = '',
  const conventionGuides = {
    gitflow: [-`Follow Git Flow branch naming:-]
[-- Feature branches: feature/<descriptive-name>-]
[-- Bugfix branches: bugfix/<descriptive-name>-]
[-- Hotfix branches: hotfix/<descriptive-name>-]
[-- Release branches: release/<version>-]
[-- Use kebab-case for names-]
[---]{+`Format: feature|bugfix|hotfix|release/<name>+}
Example: [-"feature/user-authentication"-]
[-- Example: "bugfix/login-validation-error"`,-]

[-    github: `Follow GitHub Flow branch naming:-]
[-- Format: <type>/<short-description>-]
[-- Types: feature, fix, docs, chore, refactor-]
[-- Use kebab-case-]
[-- Keep it concise and descriptive-]
[-- Example: "feature/add-dark-mode"-]
[-- Example: "fix/memory-leak"`,-]

[-    gitlab: `Follow GitLab Flow branch naming:-]
[-- Format: <issue-number>-<description> or <type>/<description>-]
[-- Use kebab-case-]
[-- Reference issue numbers when applicable-]
[-- Example: "42-implement-user-search"-]
[-- Example: "feature/payment-integration"`,-]

[-    ticket: `Follow ticket-based naming:-]
[-- Format: <ticket-id>/<short-description>-]
[-- Example: "JIRA-123/add-export-feature"-]
[-- Example: "PROJ-456/fix-validation-bug"`,-]

[-    custom: `Follow the custom branch naming format specified in the configuration.`-]
[-  };-]{+"feature/user-authentication"`,+}

    [-const guide = conventionGuides[convention] || conventionGuides.gitflow;-]{+github: `Format: <type>/<description>+}
{+Types: feature, fix, docs, chore, refactor+}
{+Example: "feature/add-dark-mode"`,+}

    [-return `You are a specialized git branch name generator.-]{+gitlab: `Format: <issue>-<description> or <type>/<description>+}
{+Example: "42-implement-search"`,+}

    [-CRITICAL OUTPUT RULES:-]
[-- Return ONLY the branch name itself-]
[-- DO NOT include any explanations, notes, or additional text-]
[-- DO NOT wrap the name in quotes, backticks, or markdown-]
[-- DO NOT add "Branch name:" or similar prefixes-]
[-- DO NOT add any commentary before or after the name-]
[-- DO NOT include "git checkout -b" or any git commands-]
[-- The output should be ready to use directly in a git checkout command-]{+ticket: `Format: <ticket-id>/<description>+}
{+Example: "JIRA-123/add-export"`,+}

    [-${guide}-]{+custom: `Follow custom format from config.`+}
{+  };+}

  [-BRANCH NAME REQUIREMENTS:-]
[-1. Analyze the provided context/description-]
[-2. Create a concise, descriptive branch name-]
[-3. Use only lowercase letters, numbers, and hyphens-]
[-4. Avoid special characters (except hyphens and slashes)-]
[-5. Keep it between 3-50 characters-]
[-6. Make it meaningful and searchable-]{+const guide = conventionGuides[convention] || conventionGuides.gitflow;+}

  [-${baseInstructions}${additionalInstructions}-]{+return `Generate a git branch name. Output ONLY the name, no quotes, no explanations, no git commands.+}

[-Remember: Output ONLY the branch name, nothing else.`;-]{+${guide}+}

{+Use lowercase, kebab-case, 3-50 chars.${baseInstructions}${additionalInstructions}`;+}
}
@@ -154,26 +85,5 @@ export function buildPRPrompt(style = 'detailed', baseInstructions = '', additio
  const styleGuides = {
    detailed: [-`Create a comprehensive PR description with:-]
[-- Clear summary of what changed and why-]
[-- Detailed list of-]{+`Include: summary, detailed+} changes [-- Testing instructions-]
[-- Any-]{+list, testing steps,+} breaking [-changes or migration notes-]
[-- Related issues or tickets`,-]{+changes, related issues`,+}
    concise: [-`Create a-]{+`Include:+} brief [-PR description with:-]
[-- One-paragraph summary-]
[-- Bullet points of-]{+summary,+} key changes [-- Quick testing-]{+bullets, quick test+} notes`,
    template: [-`Follow the standard PR template format:-]
[-## Description-]
[-[What does this PR do?]-]

[-## Changes-]
[-- [List of changes]-]

[-## Testing-]
[-- [How to test]-]

[-## Notes-]
[-- [Additional context]`-]{+`## Description\n[Summary]\n## Changes\n- [List]\n## Testing\n- [Steps]\n## Notes\n- [Context]`+}
  };
@@ -182,11 +92,3 @@ export function buildPRPrompt(style = 'detailed', baseInstructions = '', additio

  return [-`You are-]{+`Generate+} a [-specialized pull request description generator.-]

[-CRITICAL OUTPUT RULES:-]
[-- Return-]{+PR description. Output+} ONLY the[-PR-] description content [-- DO NOT include any meta-commentary or explanations about what you're doing-]
[-- DO NOT wrap the content in quotes or markdown code blocks (but DO use-]{+with+} markdown [-formatting within the description)-]
[-- DO NOT add "Here's the PR description:" or similar prefixes-]
[-- The output should be ready to paste directly into a PR description field-]
[-- You MAY use markdown formatting (headers, lists, code blocks) within the description itself-]{+formatting. No meta-commentary, no wrapper quotes.+}

@@ -194,13 +96,3 @@ ${guide}

[-PR DESCRIPTION REQUIREMENTS:-]
[-1.-]Analyze [-all commits and changes in the provided context-]
[-2. Create a-]{+commits, create+} cohesive [-narrative explaining the changes-]
[-3. Highlight the most-]{+narrative, highlight+} important [-changes-]
[-4. Include relevant technical details-]
[-5. Use proper markdown formatting for readability-]
[-6. Be professional and clear-]

[-${baseInstructions}${additionalInstructions}-]

[-Remember: Output ONLY the PR description content, nothing else.`;-]{+changes.${baseInstructions}${additionalInstructions}`;+}
}
@@ -215,23 +107,6 @@ Remember: Output ONLY the PR description content, nothing else.`;
export function buildCodeReviewPrompt(style = 'detailed', baseInstructions = '', additionalInstructions = '') {
  return [-`You are-]{+`Generate+} a[-specialized-] code [-reviewer.-]

[-CRITICAL OUTPUT RULES:-]
[-- Return-]{+review. Output+} ONLY the[-code-] review [-content-]
[-- DO NOT include meta-commentary about what you're doing-]
[-- Use-]{+with+} markdown [-formatting for the review structure-]
[-- The output should be ready to use directly-]{+formatting. No meta-commentary.+}

[-CODE REVIEW FOCUS AREAS:-]
[-1. Bugs and potential issues-]
[-2. Code quality and best practices-]
[-3. Performance concerns-]
[-4. Security vulnerabilities-]
[-5. Testing coverage-]
[-6. Documentation needs-]

[-REVIEW STYLE: ${style}-]

[-${baseInstructions}${additionalInstructions}-]

[-Remember: Output ONLY the review content, nothing else.`;-]{+Focus: bugs, quality, performance, security, testing, documentation.+}
{+Style: ${style}${baseInstructions}${additionalInstructions}`;+}
}
@@ -286,10 +161,3 @@ export function buildSystemPrompt(type, options = {}) {
    default:
      return [-`You are a helpful git assistant.-]

[-CRITICAL OUTPUT RULES:-]
[-- Return ONLY-]{+`Generate+} the requested[-information-]
[-- DO NOT include explanations or meta-commentary-]
[-- The-] output [-should be ready to use directly-]

[-${baseInstructions}${additionalInstructions}`;-]{+only. No explanations.${baseInstructions}${additionalInstructions}`;+}
  }
diff --git a/src/utils/header.js b/src/utils/header.js
deleted file mode 100644
index 6615fad..0000000
--- a/src/utils/header.js
+++ /dev/null
@@ -1,208 +0,0 @@
[-import figlet from 'figlet';-]
[-import gradient from 'gradient-string';-]
[-import chalk from 'chalk';-]
[-import i18n from '../services/i18n.js';-]
[-import { getRepoStats } from './repo-stats.js';-]
[-import { VERSION } from './index.js';-]

[-/**-]
[- * Generate a cool gradient header for CoParrot-]
[- */-]
[-export function createHeader(text = 'CoParrot', font = 'Standard') {-]
[-  const asciiArt = figlet.textSync(text, {-]
[-    font,-]
[-    horizontalLayout: 'default',-]
[-    verticalLayout: 'default'-]
[-  });-]

[-  return gradient(['#FFFF00']).multiline(asciiArt);-]
[-}-]

[-/**-]
[- * Get a random cool gradient-]
[- */-]
[-export function getRandomGradient() {-]
[-  const gradients = [-]
[-    gradient(['#0A2463', '#3E92CC', '#00F5FF']), // Ocean-]
[-    gradient(['#FF6B35', '#F7931E', '#FF006E']), // Sunset-]
[-    gradient(['#2D6A4F', '#40916C', '#74C69D']), // Forest-]
[-    gradient(['#7209B7', '#B5179E', '#F72585']), // Purple-]
[-    gradient(['#FF0000', '#FF6B00', '#FFD700']), // Fire-]
[-    gradient(['#FF0000', '#FF7F00', '#FFFF00', '#00FF00', '#0000FF'])-]
[-  ];-]

[-  return gradients[Math.floor(Math.random() * gradients.length)];-]
[-}-]

[-/**-]
[- * Animated header-]
[- */-]
[-export async function animateHeader(-]
[-  text = 'CoParrot',-]
[-  font = 'Standard',-]
[-  duration = 2000,-]
[-  fps = 10-]
[-) {-]
[-  const asciiArt = figlet.textSync(text, { font });-]
[-  const frameDelay = 1000 / fps;-]
[-  const frames = Math.floor(duration / frameDelay);-]

[-  const gradients = [-]
[-    gradient(['#00D4FF', '#7B2FFF', '#FF006E']),-]
[-    gradient(['#FF006E', '#7B2FFF', '#00D4FF']),-]
[-    gradient(['#7B2FFF', '#FF006E', '#00D4FF'])-]
[-  ];-]

[-  for (let i = 0; i < frames; i++) {-]
[-    console.clear();-]
[-    console.log(gradients[i % gradients.length].multiline(asciiArt));-]
[-    await new Promise(r => setTimeout(r, frameDelay));-]
[-  }-]
[-}-]

[-/**-]
[- * Pixel-art parrot-]
[- */-]
[-export function createPixelParrot() {-]
[-  const parrot = [-]
[-    '       ▄██████▄         ',-]
[-    '   ▄█▀▀▀▀▀██▀▀▀▀▀█▄     ',-]
[-    '  ▐█      ▐▌      █▌    ',-]
[-    '  ▐█▄    ▄██▄    ▄█▌    ',-]
[-    ' ▄▄███████▀▀███████▄▄   ',-]
[-    '████     ▄  ▄     ████  ',-]
[-    '████     █  █     ████  ',-]
[-    '▀███▄            ▄███▀  ',-]
[-    '   ▀▀████████████▀▀     '-]
[-  ];-]

[-  return parrot.map((line, i) =>-]
[-    i < 2-]
[-      ? chalk.rgb(253, 224, 71)(line) // yellow-]
[-      : chalk.rgb(22, 163, 74)(line)  // green-]
[-  );-]
[-}-]

[-/**-]
[- * Pixel-art title-]
[- */-]
[-export function createPixelTitle(text = 'COPARROT') {-]
[-  const asciiArt = figlet.textSync(text, {-]
[-    font: 'ANSI Shadow',-]
[-    horizontalLayout: 'fitted'-]
[-  });-]

[-  return gradient(['#16a34a', '#139242']).multiline(asciiArt).split('\n');-]
[-}-]

[-/**-]
[- * Utils-]
[- */-]
[-const stripAnsi = str => str.replace(/\x1B\[[0-9;]*m/g, '');-]
[-const visibleLength = str => stripAnsi(str).length;-]
[-const ellipsis = (str, max = 54) =>-]
[-  str && str.length > max ? str.slice(0, max - 2) + '..' : str;-]

[-/**-]
[- * Static boxed header with title + meta info-]
[- */-]
[-export async function displayStaticHeader(-]
[-  appName = 'CoParrot',-]
[-  {-]
[-    version = '',-]
[-    commitMessage = '',-]
[-    branch = ''-]
[-  } = {}-]
[-) {-]
[-  const titleLines = createPixelTitle(appName.toUpperCase());-]
[-  const parrotLines = createPixelParrot();-]
[-  const repoStats = await getRepoStats();-]

[-  const metaLine = `${ellipsis(repoStats.lastCommit)} · on ${repoStats.currentBranch}`;-]

[-  const boxWidth = 100;-]
[-  const contentWidth = boxWidth - 4;-]

[-  console.log(chalk.dim('┌──' + ' '.repeat(boxWidth - 6) + '──┐'));-]

[-  const welcome = `${i18n.t('common.version')} ${VERSION}`;-]
[-  console.log(-]
[-    chalk.dim('│  ') +-]
[-      parrotLines[0] +-]
[-      ' '.repeat(-]
[-        contentWidth --]
[-          visibleLength(parrotLines[0]) --]
[-          welcome.length --]
[-          2-]
[-      ) +-]
[-      chalk.white(welcome) +-]
[-      chalk.dim('  │')-]
[-  );-]

[-  const maxLines = Math.max(-]
[-    titleLines.length + 1,-]
[-    parrotLines.length-]
[-  );-]

[-  for (let i = 0; i < maxLines; i++) {-]
[-    const parrot = parrotLines[i + 1] || '';-]

[-    // Title lines-]
[-    if (i < titleLines.length) {-]
[-      const title = titleLines[i];-]
[-      const space =-]
[-        contentWidth --]
[-        visibleLength(title) --]
[-        visibleLength(parrot) --]
[-        2;-]

[-      console.log(-]
[-        chalk.dim('│  ') +-]
[-          parrot +-]
[-          ' '.repeat(Math.max(0, space)) +-]
[-          title +-]
[-          chalk.dim('  │')-]
[-      );-]
[-      continue;-]
[-    }-]

[-    // Meta line (right below title)-]
[-    if (i === titleLines.length) {-]
[-      const space =-]
[-        contentWidth --]
[-        visibleLength(metaLine) --]
[-        visibleLength(parrot) --]
[-        2;-]

[-      console.log(-]
[-        chalk.dim('│  ') +-]
[-          parrot +-]
[-          ' '.repeat(Math.max(0, space)) +-]
[-          metaLine +-]
[-          chalk.dim('  │')-]
[-      );-]
[-      continue;-]
[-    }-]

[-    // Remaining parrot lines-]
[-    if (parrot.trim()) {-]
[-      console.log(-]
[-        chalk.dim('│  ') +-]
[-          parrot +-]
[-          ' '.repeat(contentWidth - visibleLength(parrot)) +-]
[-          chalk.dim('  │')-]
[-      );-]
[-    }-]
[-  }-]

[-  console.log(chalk.dim('└──' + ' '.repeat(boxWidth - 6) + '──┘'));-]
[-}-]

[-export default {-]
[-  createHeader,-]
[-  getRandomGradient,-]
[-  animateHeader,-]
[-  createPixelParrot,-]
[-  createPixelTitle,-]
[-  displayStaticHeader-]
[-};-]
diff --git a/src/utils/repo-stats.js b/src/utils/repo-stats.js
index a26fdf7..6b5cd43 100644
--- a/src/utils/repo-stats.js
+++ b/src/utils/repo-stats.js
@@ -57,3 +57,2 @@ export function getFunnyMessage() {
  const messages = [
[-    "🦜 Ready to squawk some commits!",-]
    "🎨 May your commits be atomic and your merges conflict-free!",
@@ -72,3 +71,2 @@ export function getFunnyMessage() {
    "🎺 Jazz hands ready for some version control!",
[-    "🌮 Squawk responsibly!",-]
    "🦸 Not all heroes wear capes, some write good commit messages!",
diff --git a/src/utils/welcome-banner.js b/src/utils/welcome-banner.js
new file mode 100644
index 0000000..2920813
--- /dev/null
+++ b/src/utils/welcome-banner.js
@@ -0,0 +1,65 @@
{+import gradient from 'gradient-string';+}
{+import chalk from 'chalk';+}
{+import { getRepoStats } from './repo-stats.js';+}
{+import { VERSION } from './index.js';+}

{+/**+}
{+ * Display modern, minimalist welcome banner+}
{+ */+}
{+export async function displayWelcomeBanner(appName = 'CoParrot') {+}
{+  const repoStats = await getRepoStats();+}

{+  // Modern gradient for app name+}
{+  const gradientTheme = gradient(['#22c55e', '#10b981']);+}

{+  // Clean title with modern font+}
{+  console.log();+}
{+  console.log('  ' + gradientTheme.multiline(`+}
{+ ██████╗ ██████╗ ██████╗  █████╗ ██████╗ ██████╗  ██████╗ ████████╗+}
{+██╔════╝██╔═══██╗██╔══██╗██╔══██╗██╔══██╗██╔══██╗██╔═══██╗╚══██╔══╝+}
{+██║     ██║   ██║██████╔╝███████║██████╔╝██████╔╝██║   ██║   ██║+}
{+██║     ██║   ██║██╔═══╝ ██╔══██║██╔══██╗██╔══██╗██║   ██║   ██║+}
{+╚██████╗╚██████╔╝██║     ██║  ██║██║  ██║██║  ██║╚██████╔╝   ██║+}
{+ ╚═════╝ ╚═════╝ ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝    ╚═╝+}
{+  `.trim()));+}
{+  console.log();+}

{+  // Minimalist info section+}
{+  const infoLines = [];+}

{+  // Version badge+}
{+  infoLines.push(+}
{+    '  ' + chalk.dim('v') + chalk.white(VERSION)+}
{+  );+}

{+  // Branch and commit in a clean single line+}
{+  if (repoStats?.currentBranch && repoStats?.lastCommit) {+}
{+    const maxCommitLength = 50;+}
{+    const truncatedCommit = repoStats.lastCommit.length > maxCommitLength+}
{+      ? repoStats.lastCommit.slice(0, maxCommitLength - 2) + '..'+}
{+      : repoStats.lastCommit;+}

{+    infoLines.push(+}
{+      '  ' ++}
{+      chalk.cyan('●') + ' ' ++}
{+      chalk.cyan(repoStats.currentBranch) ++}
{+      chalk.dim(' • ') ++}
{+      chalk.gray(truncatedCommit)+}
{+    );+}
{+  } else if (repoStats?.currentBranch) {+}
{+    infoLines.push(+}
{+      '  ' + chalk.cyan('●') + ' ' + chalk.cyan(repoStats.currentBranch)+}
{+    );+}
{+  }+}

{+  // Display info lines+}
{+  infoLines.forEach(line => console.log(line));+}
{+  console.log();+}

{+  // Minimalist separator+}
{+  console.log('  ' + chalk.dim('─'.repeat(70)));+}
{+}+}

{+export default {+}
{+  displayWelcomeBanner+}
{+};+}
